.range {
  --range-thumb-background-color: var(--color-accent);
  --range-thumb-border-color: var(--range-thumb-background-color);
  --range-track-background-color: var(--color-accent);
  --range-track-background:
    linear-gradient(
      to right,
      var(--range-track-background-color) 0%,
      var(--range-track-background-color) var(--range-track-start),
      transparent var(--range-track-start),
      transparent var(--range-track-end)
    );

  min-block-size: var(--range-thumb-size);
  display: grid;

  :where(input) {
    block-size: var(--range-track-block-size);
    background-color:
      color-mix(
        in var(--range-background-color-space, srgb),
        var(--range-background-color, var(--color-accent)) var(--range-background-color-opacity, 10%),
        var(--range-background-color-mix, var(--color-body))
      );
    position: relative;
    grid-area: 1/1;

    &::-webkit-slider-runnable-track {
      block-size: var(--range-track-block-size);
      border-radius: var(--range-track-border-radius, var(--radius-full));
      background: var(--range-track-background);
    }

    &::-moz-range-track {
      block-size: var(--range-track-block-size);
      border-radius: var(--radius-full);
      background: var(--range-track-background);
    }

    &::-webkit-slider-thumb {
      width: var(--range-thumb-size);
      height: var(--range-thumb-size);
      background-color: var(--range-thumb-background-color);
      border-radius: var(--radius-full);
      border: var(--range-thumb-border-width) solid var(--range-thumb-border-color);
      outline:
        var(--range-thumb-outline-width) solid
        color-mix(
          in var(--range-thumb-outline-color-space, srgb),
          var(--range-thumb-outline-color, var(--range-thumb-background-color)) var(--range-thumb-outline-color-opacity, 0%),
          var(--range-thumb-outline-color-mix, transparent)
        );
      margin-block-start: calc((var(--range-thumb-size) - var(--range-track-block-size)) / 2 * -1);
      transition: outline-color var(--default-transition-duration), outline-offset var(--default-transition-duration);
      cursor: var(--range-thumb-cursor, grab);
      appearance: none;
      pointer-events: auto;

      &:active {
        --range-thumb-cursor: grabbing;
        --range-thumb-outline-color-opacity: var(--range-thumb-focus-outline-opacity);
      }
    }

    &::-moz-range-thumb {
      width: var(--range-thumb-size);
      height: var(--range-thumb-size);
      background-color: var(--range-thumb-background-color);
      border-radius: var(--radius-full);
      border: var(--range-thumb-border-width) solid var(--range-thumb-border-color);
      outline:
        var(--range-thumb-outline-width) solid
        color-mix(
          in var(--range-thumb-outline-color-space, srgb),
          var(--range-thumb-outline-color, var(--range-thumb-background-color)) var(--range-thumb-outline-color-opacity, 0%),
          var(--range-thumb-outline-color-mix, transparent)
        );
      transition: outline-color var(--default-transition-duration), outline-offset var(--default-transition-duration);
      cursor: var(--range-thumb-cursor, grab);
      appearance: none;
      pointer-events: auto;

      &:active {
        --range-thumb-cursor: grabbing;
        --range-thumb-outline-color-opacity: var(--range-thumb-focus-outline-opacity);
      }
    }

    &:focus-visible {
      &::-webkit-slider-thumb {
        --range-thumb-outline-color-opacity: var(--range-thumb-focus-outline-opacity);
      }

      &::-moz-range-thumb {
        --range-thumb-outline-color-opacity: var(--range-thumb-focus-outline-opacity);
      }
    }
  }
}
