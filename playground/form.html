<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Winduum UI</title>
    <meta name="viewport" content="width=device-width, user-scalable=0, initial-scale=1, viewport-fit=cover"/>
    <link rel="stylesheet" href="/src/main.css">
    <link rel="stylesheet" href="/src/tailwind.css">

    <script>
        if (!CSS.supports('color: color-mix(in srgb, red 0%, red)')) {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = '/src/main-rgb.css';

            console.log()

            document.head.insertBefore(link, document.querySelector(`[href="/src/main.css"]`).nextSibling);
        }
    </script>
</head>
<body class="p-4xl flex flex flex-col items-start gap-4">
    <form class="form grid grid-cols-12 gap-4" novalidate data-action="submit">
        <div class="field col-span-4">
            <label class="label" for="validationCustom01">First name</label>
            <div class="control">
                <input type="text" class="form-control" id="validationCustom01" value="" required>
            </div>
        </div>
        <div class="field col-span-4">
            <label class="label" for="validationCustom02">Last name</label>
            <div class="control">
                <input type="text" class="form-control" id="validationCustom02" value="" required>
            </div>
        </div>
        <div class="field col-span-4">
            <label class="label" for="validationCustomUsername">Username</label>
            <div class="group">
                <div class="control bg-body-secondary w-[--control-height] flex items-center justify-center">
                    @
                </div>
                <div class="control">
                    <input type="text" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend" required>
                    <div class="ms-auto">
                        asdf
                    </div>
                </div>
            </div>
        </div>
        <div class="field col-span-6">
            <label class="label" for="validationCustom03">City</label>
            <div class="control">
                <input type="text" class="form-control" id="validationCustom03" required>
            </div>
        </div>
        <div class="field col-span-3">
            <label for="validationCustom04" class="label">State</label>
            <div class="control">
                <select class="form-select" id="validationCustom04" required>
                    <option selected disabled value="">Choose...</option>
                    <option>...</option>
                </select>
            </div>
        </div>
        <div class="field col-span-3">
            <label for="validationCustom05" class="label">Zip</label>
            <div class="control">
                <input type="text" class="form-control" id="validationCustom05" required>
            </div>
        </div>
        <div class="field col-span-12">
            <div class="check">
                <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                <label class="form-check-label" for="invalidCheck">
                    Agree to terms and conditions
                </label>
            </div>
        </div>
        <div class="field">
            <div class="switch">
                <input type="checkbox" required>
                Switch
            </div>
        </div>
        <div class="field">
            <div class="flex items-center gap-2">
                <label class="x-color" style="color: red">
                    <input type="radio" name="radio" required aria-label="Red">
                </label>
                <label class="x-color" style="color: blue">
                    <input type="radio" name="radio" required aria-label="Blue">
                </label>
                <label class="x-color" style="color: red; --x-color-secondary: blue;">
                    <input type="radio" name="radio" required aria-label="Red & Blue">
                </label>
            </div>
        </div>
        <div class="field">
            <div class="rating accent-warning">
                <input type="radio" name="rating" value="1" aria-label="Rate 1/5" required>
                <input type="radio" name="rating" value="2" aria-label="Rate 2/5" required>
                <input type="radio" name="rating" value="3" aria-label="Rate 3/5" required>
                <input type="radio" name="rating" value="4" aria-label="Rate 4/5" required>
                <input type="radio" name="rating" value="5" aria-label="Rate 5/5" required>
            </div>
        </div>
        <div class="field">
            <button class="button" type="submit">Submit form</button>
        </div>
    </form>

    <script type="module">
        import { validateForm, validateField } from "/src/components/form/index.js";


        document.querySelector('[data-action="submit"]').addEventListener('submit', event => {
            validateForm(event)
        })

        document.querySelectorAll('.control, .check, .switch, .rating, .color').forEach((element) => {
            element.addEventListener('change', () => validateField(element))
        })
    </script>

    <svg class="hidden">
        <symbol id="icon-exclamation-circle" class="ms-auto text-error" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
        </symbol>
    </svg>
</body>
</html>
